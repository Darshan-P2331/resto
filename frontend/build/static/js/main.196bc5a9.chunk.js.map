{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/header/Header.js","components/footer/Footer.js","components/utils/Message.js","components/body/auth/ActivateEmail.js","components/utils/Validation.js","components/body/auth/ForgotPassword.js","components/body/auth/ResetPassword.js","components/utils/NotFound.js","components/body/auth/Register.js","components/body/auth/SignIn.js","components/body/cart/PaypalButton.js","components/body/cart/Cart.js","components/utils/Loading.js","components/body/categories/Categories.js","components/body/createProduct/CreateProduct.js","components/utils/productItem/ProductItem.js","components/body/products/Filters.js","components/body/products/Products.js","components/body/profile/EditUser.js","components/body/profile/Profile.js","components/body/home/Home.js","components/body/order/OrderDetails.js","components/body/order/OrderHistory.js","components/body/Body.js","App.js","reportWebVitals.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","getProducts","a","axios","get","res","data","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","users","setUsers","user","setUser","history","setHistory","getUser","headers","Authorization","role","alert","response","msg","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","post","access_token","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","toggleSearch","setToggleSearch","logoutUser","removeItem","window","location","href","toggleMenu","className","to","onClick","id","length","type","name","placeholder","onChange","e","target","toLowerCase","htmlFor","Footer","Message","variant","ActivateEmail","activation_token","useParams","err","setErr","success","setSuccess","activationEmail","isEmpty","isEmail","email","test","isLength","password","isMatch","cf_password","initialState","ForgotPassword","setData","forgotPassword","preventDefault","onSubmit","ResetPassword","handleChange","handleResetPassword","NotFound","Register","handleSubmit","SignIn","setItem","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","console","log","onSuccess","payment","tranSuccess","onCancel","style","size","color","shape","label","tagline","React","Component","Cart","setTotal","reduce","prev","price","getTotal","addToCart","makePayment","orderItems","paidAt","Date","now","map","confirm","forEach","index","splice","src","images","url","alt","title","c","Loading","Categories","onEdit","setOnEdit","image","setImage","loading","setLoading","setID","handleUpload","file","files","formData","FormData","append","handleDestroy","public_id","createCategory","put","editCategory","deleteCategory","delete","styleUpload","display","class","required","product_id","CreateProduct","setProduct","setImages","useHistory","params","handleInputChange","push","disabled","ProductItem","deleteProduct","handleCheck","checked","Filters","Products","isCheck","setIsCheck","destroyImg","EditUser","editUser","setEditUser","checkAdmin","setCheckAdmin","num","setNum","handleUpdate","goBack","defaultValue","Profile","avatar","setAvatar","getAllUsers","getOrders","changeAvatar","handleDelete","updateInfo","updatePassword","overflowX","order","createdAt","substring","totalPrice","isPaid","isDelivered","deliveredAt","Home","x","y","animate","setAnimate","ref","useRef","handleCategory","onMouseMove","innerWidth","pageX","innerHeight","pageY","onMouseLeave","current","scrollIntoView","transform","sold","background","OrderDetails","orderDetails","setOrderDetails","shippingAddress","address","city","postalCode","country","paymentMethod","paymentResult","status","update_time","email_address","OrderHistory","getHistory","Body","exact","path","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.196bc5a9.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from 'react'\r\n\r\nfunction ProductsAPI() {\r\n    const [products, setProducts] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n    const [category, setCategory] = useState('')\r\n    const [sort, setSort] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const [result, setResult] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const getProducts = async () => {\r\n          const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`);\r\n          setProducts(res.data.products);\r\n          setResult(res.data.result)\r\n        };\r\n        getProducts();\r\n      }, [callback,category,sort,search,page]);\r\n\r\n    return {\r\n        products: [products, setProducts],\r\n        callback: [callback,setCallback],\r\n        category: [category, setCategory],\r\n        sort: [sort, setSort],\r\n        search: [search, setSearch],\r\n        page: [page, setPage],\r\n        result: [result, setResult]\r\n    }\r\n}\r\n\r\nexport default ProductsAPI\r\n","import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [users, setUsers] = useState([])\r\n    const [user, setUser] = useState({})\r\n    const [history, setHistory] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            const getUser = async () => {\r\n                try {\r\n                    const res = await axios.get('/user/info',{\r\n                        headers: {Authorization: token}\r\n                    })\r\n\r\n                    setIsLogged(true)\r\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\r\n                    setUser(res.data)\r\n                    setCart(res.data.cart)\r\n                } catch (err) {\r\n                    alert(err.response.data.msg)\r\n                }\r\n            }\r\n            getUser()\r\n        }\r\n    }, [token])\r\n\r\n    // useEffect(() => {\r\n    //     if (token) {\r\n    //         const getHistory = async () => {\r\n    //             if (isAdmin) {\r\n    //                 const res = await axios.get('/api/payment',{\r\n    //                     headers: {Authorization: token}\r\n    //                 })\r\n    //                 setHistory(res.data)\r\n    //             } else {\r\n    //                 const res = await axios.get('/user/history',{\r\n    //                     headers: {Authorization: token}\r\n    //                 })\r\n    //                 setHistory(res.data)\r\n    //             }\r\n                \r\n    //         }\r\n    //         getHistory()\r\n    //     }\r\n    // }, [token,callback, isAdmin])\r\n\r\n    const addCart = async (product) => {\r\n        if(!isLogged) return alert('Please login to continue buying')\r\n\r\n        const check = cart.every(item => {\r\n            return item._id !== product._id\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart,{...product,quantity: 1}])\r\n\r\n            await axios.patch('/user/addcart',{cart: [...cart,{...product,quantity: 1}]},{\r\n                headers: {Authorization: token}\r\n            })\r\n        }else{\r\n            alert('This product has been added to cart.')\r\n        }\r\n    }\r\n     \r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin,setIsAdmin],\r\n        cart: [cart,setCart],\r\n        addCart: addCart,\r\n        user: [user,setUser],\r\n        users: [users,setUsers],\r\n        history: [history,setHistory],\r\n        callback: [callback,setCallback]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction CategoriesAPI() {\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const getCategories = async () => {\r\n            const res = await axios.get('/api/category')\r\n            setCategories(res.data);\r\n        }\r\n\r\n        getCategories()\r\n    }, [callback])\r\n\r\n    return {\r\n        categories: [categories,setCategories],\r\n        callback: [callback,setCallback]\r\n    }\r\n        \r\n}\r\n\r\nexport default CategoriesAPI\r\n","import axios from \"axios\";\r\nimport React, { createContext, useEffect, useState } from \"react\";\r\nimport ProductsAPI from \"./api/ProductsAPI\";\r\nimport UserAPI from \"./api/UserAPI\";\r\nimport CategoriesAPI from \"./api/CategoriesAPI\";\r\n\r\nexport const GlobalState = createContext();\r\n\r\nexport const DataProvider = ({ children }) => {\r\n  const [token, setToken] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const firstLogin = localStorage.getItem(\"firstLogin\");\r\n    if (firstLogin) {\r\n      const refreshToken = async () => {\r\n        const res = await axios.post(\"/user/refresh_token\");\r\n\r\n        setToken(res.data.access_token);\r\n        setTimeout(() => {\r\n          refreshToken();\r\n        }, 10 * 60 * 1000);\r\n      };\r\n      refreshToken();\r\n    }\r\n  }, []);\r\n\r\n  ProductsAPI();\r\n  const state = {\r\n    token: [token, setToken],\r\n    productsAPI: ProductsAPI(),\r\n    userAPI: UserAPI(token),\r\n    categoriesAPI: CategoriesAPI(),\r\n  };\r\n\r\n  return <GlobalState.Provider value={state}>{children}</GlobalState.Provider>;\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\n\r\nexport default function Header() {\r\n  const state = useContext(GlobalState);\r\n  const [isLogged] = state.userAPI.isLogged;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n  const [cart] = state.userAPI.cart;\r\n  const [search, setSearch] = state.productsAPI.search;\r\n  const [menu, setMenu] = useState(false);\r\n  const [toggleSearch, setToggleSearch] = useState(false);\r\n\r\n  const logoutUser = async () => {\r\n    await axios.get(\"/user/logout\");\r\n    localStorage.removeItem(\"firstLogin\");\r\n    window.location.href = \"/\";\r\n  };\r\n\r\n  const adminRouter = () => {\r\n    return (\r\n      <>\r\n        <Link to=\"/create_product\" onClick={toggleMenu}>\r\n          Create Product\r\n        </Link>\r\n        <Link to=\"/category\" onClick={toggleMenu}>\r\n          Category\r\n        </Link>\r\n        <Link to=\"/allorders\" onClick={toggleMenu}>\r\n          Orders\r\n        </Link>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const loggedRouter = () => {\r\n    return (\r\n      <>\r\n        <Link to=\"#about\">about</Link>\r\n        <Link to=\"/profile\">profile</Link>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const toggleMenu = () => setMenu(!menu);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\" className=\"logo\">\r\n        {\" \"}\r\n        <i className=\"fas fa-utensils\"></i> resto.{\" \"}\r\n      </Link>\r\n\r\n      <nav className={menu ? \"navbar active\" : \"navbar\"}>\r\n        <Link to=\"/\">home</Link>\r\n        {isAdmin ? adminRouter() : loggedRouter()}\r\n      </nav>\r\n\r\n      <div className=\"icons\">\r\n        <div id=\"menu-btn\" className=\"fas fa-bars\" onClick={toggleMenu}></div>\r\n        <Link to='/' id=\"search-btn\" className=\"fas fa-search\" onClick={() => setToggleSearch(!toggleSearch)} ></Link>\r\n        <Link to=\"/cart\" className=\"fas fa-shopping-cart\" value={cart.length} ></Link>\r\n        {isLogged ? (\r\n          <Link\r\n            to=\"\"\r\n            onClick={logoutUser}\r\n            id=\"login-btn\"\r\n            className=\"fas fa-sign-out-alt danger\"\r\n          ></Link>\r\n        ) : (\r\n          <Link to=\"/signin\" id=\"login-btn\" className=\"fas fa-user\"></Link>\r\n        )}\r\n      </div>\r\n      <section className={`search-form-container ${toggleSearch && 'active'}`}>\r\n\r\n    <form>\r\n        <input type=\"search\" name=\"\" placeholder=\"search here...\" value={search} onChange={(e) => setSearch(e.target.value.toLowerCase())} />\r\n        <label htmlFor=\"search-box\" className=\"fas fa-search\"></label>\r\n    </form>\r\n\r\n</section>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <section className=\"footer\">\r\n      <div className=\"box-container\">\r\n        <div className=\"box\">\r\n          <h3>our menu</h3>\r\n          <Link to=\"#\">\r\n            <i className=\"fas fa-arrow-right\"></i> pizza\r\n          </Link>\r\n          <Link to=\"#\">\r\n            <i className=\"fas fa-arrow-right\"></i> burger\r\n          </Link>\r\n          <Link to=\"#\">\r\n            <i className=\"fas fa-arrow-right\"></i> chicken\r\n          </Link>\r\n          <Link to=\"#\">\r\n            <i className=\"fas fa-arrow-right\"></i> pasta\r\n          </Link>\r\n          <Link to=\"#\">\r\n            <i className=\"fas fa-arrow-right\"></i> and more...\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"box\">\r\n          <h3>quick links</h3>\r\n          <Link to=\"#home\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> home\r\n          </Link>\r\n          <Link to=\"#about\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> about\r\n          </Link>\r\n          <Link to=\"#popular\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> popular\r\n          </Link>\r\n          <Link to=\"#menu\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> menu\r\n          </Link>\r\n          <Link to=\"#order\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> order\r\n          </Link>\r\n          <Link to=\"#blogs\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> blogs\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"box\">\r\n          <h3>extra links</h3>\r\n          <Link to=\"#\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> my order\r\n          </Link>\r\n          <Link to=\"#\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> my account\r\n          </Link>\r\n          <Link to=\"#\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> my favorite\r\n          </Link>\r\n          <Link to=\"#\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> terms of use\r\n          </Link>\r\n          <Link to=\"#\">\r\n            {\" \"}\r\n            <i className=\"fas fa-arrow-right\"></i> privary policy\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"box\">\r\n          <h3>opening hours</h3>\r\n          <p>monday : 7:00am to 10:00pm</p>\r\n          <p>tuesday : 7:00am to 10:00pm</p>\r\n          <p>wednesday : 7:00am to 10:00pm</p>\r\n          <p>friday : 7:00am to 10:00pm</p>\r\n          <p>saturday and sunday closed</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bottom\">\r\n        <div className=\"share\">\r\n          <Link to=\"#\" className=\"fab fa-facebook-f\"></Link>\r\n          <Link to=\"#\" className=\"fab fa-twitter\"></Link>\r\n          <Link to=\"#\" className=\"fab fa-instagram\"></Link>\r\n          <Link to=\"#\" className=\"fab fa-linkedin\"></Link>\r\n          <Link to=\"#\" className=\"fab fa-pinterest\"></Link>\r\n        </div>\r\n\r\n        <div className=\"credit\">\r\n          {\" \"}\r\n          created <span>Darshan</span> | all rights reserved!{\" \"}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Message({variant,children}) {\r\n    return (\r\n        <div className={`alert alert-${variant || 'info'}`}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport Message from '../../utils/Message'\r\n\r\nexport default function ActivateEmail() {\r\n    const {activation_token} = useParams()\r\n    const [err, setErr] = useState('')\r\n    const [success, setSuccess] = useState('')\r\n\r\n    useEffect(() => {\r\n        if(activation_token){\r\n            const activationEmail = async () => {\r\n                try {\r\n                    const res = await axios.post('/user/activation',{activation_token})\r\n                    setSuccess(res.data.msg)\r\n                } catch (err) {\r\n                    err.response.data.msg && setErr(err.response.data.msg)\r\n                }\r\n            }\r\n            activationEmail()\r\n        }\r\n    }, [activation_token])\r\n\r\n    return (\r\n        <div className='login-form-container active'>\r\n            <form>\r\n            {err && <Message variant='danger'>{err}</Message>}\r\n            {success && <Message variant='success'>{success}</Message>}\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","export const isEmpty = (value) => {\r\n    if (!value) return true;\r\n    return false;\r\n  };\r\n  \r\n  export const isEmail = (email) => {\r\n      // eslint-disable-next-line\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n  };\r\n  \r\n  export const isLength = password => {\r\n      if(password.length < 8) return true\r\n      return false\r\n  }\r\n  \r\n  export const isMatch = (password,cf_password) => {\r\n      if(password === cf_password) return true\r\n      return false\r\n  }","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport Message from \"../../utils/Message\";\r\nimport { isEmail } from \"../../utils/Validation\";\r\n\r\nconst initialState = {\r\n  email: \"\",\r\n  err: \"\",\r\n  success: \"\",\r\n};\r\n\r\nexport default function ForgotPassword() {\r\n  const [data, setData] = useState(initialState);\r\n\r\n  const { email, err, success } = data;\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n\r\n  const forgotPassword = async (e) => {\r\n    e.preventDefault()\r\n    if (!isEmail(email))\r\n      return setData({ ...data, err: \"Invalid email.\", success: \"\" });\r\n    try {\r\n      const res = await axios.post(\"/user/forgot\", { email });\r\n      return setData({ ...data, err: \"\", success: res.data.msg });\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-form-container active\">\r\n      <form onSubmit={forgotPassword}>\r\n        <h3>forgot password</h3>\r\n        {err && <Message variant=\"danger\">{err}</Message>}\r\n        {success && <Message variant=\"success\">{success}</Message>}\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"enter your email\"\r\n          value={email}\r\n          onChange={handleChange}\r\n          className=\"box\"\r\n        />\r\n        <button type=\"submit\" className=\"btn\">\r\n          reset password\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Message from \"../../utils/Message\";\r\nimport { isLength, isMatch } from \"../../utils/Validation\";\r\n\r\nconst initialState = {\r\n  password: \"\",\r\n  cf_password: \"\",\r\n  err: \"\",\r\n  success: \"\",\r\n};\r\n\r\nexport default function ResetPassword() {\r\n  const { token } = useParams();\r\n  const [data, setData] = useState(initialState);\r\n\r\n  const { password, cf_password, err, success } = data;\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n\r\n  const handleResetPassword = async (e) => {\r\n    e.preventDefault();\r\n    if (isLength(password))\r\n      return setData({\r\n        ...data,\r\n        err: \"Password must be at least 8 characters.\",\r\n        success: \"\",\r\n      });\r\n    if (!isMatch(password, cf_password))\r\n      return setData({ ...data, err: \"Password did not match.\", success: \"\" });\r\n    try {\r\n      const res = await axios.post(\r\n        \"/user/reset\",\r\n        { password },\r\n        {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        }\r\n      );\r\n      return setData({ ...data, err: \"\", success: res.data.msg });\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-form-container active\">\r\n      <form onSubmit={handleResetPassword}>\r\n        <h3>reset password</h3>\r\n        {err && <Message variant=\"danger\">{err}</Message>}\r\n        {success && <Message variant=\"success\">{success}</Message>}\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"enter your password\"\r\n          value={password}\r\n          onChange={handleChange}\r\n          className=\"box\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"cf_password\"\r\n          placeholder=\"confirm your password\"\r\n          value={cf_password}\r\n          onChange={handleChange}\r\n          className=\"box\"\r\n        />\r\n        <button type=\"submit\" className=\"btn\">\r\n          reset password\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <section className=\"not-found\">\r\n      <div>\r\n        <h3>404</h3>\r\n        <p>Not Found</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Message from '../../utils/Message';\r\nimport { isEmail, isEmpty, isLength, isMatch } from '../../utils/Validation';\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    err: \"\",\r\n    success: \"\",\r\n  };\r\n\r\nexport default function Register() {\r\n    const [user, setUser] = useState(initialState);\r\n\r\n  const { name, email, password, cf_password, err, success } = user;\r\n\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isEmpty(name) || isEmpty(password))\r\n      return setUser({\r\n        ...user,\r\n        err: \"Please fill in all fields\",\r\n        success: \"\",\r\n      });\r\n\r\n    if (!isEmail(email))\r\n      return setUser({\r\n        ...user,\r\n        err: \"Invalid email.\",\r\n        success: \"\",\r\n      });\r\n\r\n    if (isLength(password))\r\n      return setUser({\r\n        ...user,\r\n        err: \"Password must be atleast 8 characters.\",\r\n        success: \"\",\r\n      });\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setUser({\r\n        ...user,\r\n        err: \"Password did not match.\",\r\n        success: \"\",\r\n      });\r\n    try {\r\n      const res = await axios.post(\"/user/register\", {\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n\r\n      setUser({ ...user, err: \"\", success: res.data.msg });\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setUser({ ...user, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-form-container active\">\r\n\r\n    <form onSubmit={handleSubmit}>\r\n        <h3>register form</h3>\r\n        {err && <Message variant='danger'>{err}</Message>}\r\n        {success && <Message variant='success'>{success}</Message>}\r\n        <input type=\"text\" name='name' value={name} onChange={handleChange} placeholder=\"Enter your name\" className=\"box\" />\r\n        <input type=\"email\" name='email' value={email} onChange={handleChange} placeholder=\"Enter your email\" className=\"box\" />\r\n        <input type=\"password\" name='password' value={password} onChange={handleChange} placeholder=\"Enter your password\" className=\"box\" />\r\n        <input type=\"password\" name='cf_password' value={cf_password} onChange={handleChange} placeholder=\"Enter your confirm password\" className=\"box\" />\r\n        <button type=\"submit\" className='btn' >Register</button>\r\n        <p>already have an account? <Link to=\"/signin\">click here</Link></p>\r\n    </form>\r\n\r\n</div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Message from '../../utils/Message';\r\n\r\nconst initialState = {\r\n    email: \"\",\r\n    password: \"\",\r\n    err: \"\",\r\n    success: \"\",\r\n  };\r\n\r\nexport default function SignIn() {\r\n    const [user, setUser] = useState(initialState);\r\n    const { email, password, err, success } = user;\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\"/user/login\", { email, password });\r\n      setUser({ ...user, err: \"\", success: res.data.msg });\r\n\r\n      localStorage.setItem(\"firstLogin\", true);\r\n\r\n      window.location.href = \"/\";\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setUser({ ...user, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-form-container active\">\r\n\r\n    <form onSubmit={handleSubmit}>\r\n        <h3>login form</h3>\r\n        {err && <Message variant='danger'>{err}</Message>}\r\n        {success && <Message variant='success'>{success}</Message>}\r\n        <input type=\"email\" name=\"email\" placeholder=\"enter your email\" value={email} onChange={handleChange} className=\"box\" />\r\n        <input type=\"password\" name=\"password\" placeholder=\"enter your password\" value={password} onChange={handleChange} className=\"box\" />\r\n        <button type=\"submit\" className='btn' >login now</button>\r\n        <p>forget password? <Link to=\"/forgot_password\">click here</Link></p>\r\n        <p>don't have an account? <Link to=\"/register\">create one</Link></p>\r\n    </form>\r\n\r\n</div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            \t\t// You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n                    this.props.tranSuccess(payment)\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    'ASN4DFOjrWqVE3YFRVNm5IIFiovLHlgucJh5Wchv1_E4fDzH2WqTDlVO5VStIb1Gsi2_xCcxLpsejbe0',\r\n            production: 'YOUR-PRODUCTION-APP-ID',\r\n        }\r\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\r\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\r\n        // For production app-ID:\r\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\r\n \r\n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\r\n        let style={\r\n            size: 'small',\r\n            color: 'black',\r\n            shape: 'rect',\r\n            label: 'checkout',\r\n            tagline: false\r\n        }\r\n        return (\r\n            <PaypalExpressBtn env={env} client={client} currency={currency} total={total} onError={onError} onSuccess={onSuccess} onCancel={onCancel} style={style} />\r\n        );\r\n    }\r\n}","import axios from \"axios\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\nimport PaypalButton from \"./PaypalButton\";\r\n\r\nexport default function Cart() {\r\n  const [total, setTotal] = useState(0);\r\n  const state = useContext(GlobalState);\r\n  const [token] = state.token;\r\n  const [cart, setCart] = state.userAPI.cart;\r\n\r\n  useEffect(() => {\r\n    const getTotal = () => {\r\n      const total = cart.reduce((prev, item) => {\r\n        return prev + item.price * item.quantity;\r\n      }, 0);\r\n      setTotal(total);\r\n    };\r\n\r\n    getTotal();\r\n  }, [cart]);\r\n\r\n  const addToCart = async (cart) => {\r\n    await axios.patch(\r\n      \"/user/addcart\",\r\n      { cart },\r\n      {\r\n        headers: { Authorization: token },\r\n      }\r\n    );\r\n  };\r\n\r\n  const increment = (id) => {\r\n    cart.forEach((item) => {\r\n      if (item._id === id) {\r\n        item.quantity += 1;\r\n      }\r\n    });\r\n\r\n    setCart([...cart]);\r\n    addToCart(cart);\r\n  };\r\n\r\n  const decrement = (id) => {\r\n    cart.forEach((item) => {\r\n      if (item._id === id) {\r\n        item.quantity === 1 ? (item.quantity = 1) : (item.quantity -= 1);\r\n      }\r\n    });\r\n\r\n    setCart([...cart]);\r\n    addToCart(cart);\r\n  };\r\n\r\n  const removeProduct = (id) => {\r\n    if (window.confirm(\"Do you want to delete this product?\")) {\r\n      cart.forEach((item, index) => {\r\n        if (item._id === id) {\r\n          cart.splice(index, 1);\r\n        }\r\n      });\r\n\r\n      setCart([...cart]);\r\n      addToCart(cart);\r\n    }\r\n  };\r\n\r\n  const makePayment = async (payment) => {\r\n    try {\r\n      \r\n      const res = await axios.post(\"/api/payment\", {\r\n        orderItems: cart,\r\n        total,\r\n        payment,\r\n        paidAt: Date.now()\r\n      },{\r\n        headers: {Authorization: token}\r\n      });\r\n      setCart([])\r\n      addToCart([])\r\n      alert(res.data.msg)\r\n    } catch (err) {\r\n      console.log(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"shopping-cart-container active\">\r\n      <div className=\"products-container\">\r\n        <h3 className=\"title\">your products</h3>\r\n        <div className=\"box-container\">\r\n          {cart.map((item) => (\r\n            <div className=\"box\" key={item._id}>\r\n              <i\r\n                className=\"fas fa-times\"\r\n                onClick={() => removeProduct(item._id)}\r\n              ></i>\r\n              <img src={item.images.url} alt=\"\" />\r\n              <div className=\"content\">\r\n                <h3>{item.title}</h3>\r\n                <span> quantity : </span>\r\n                <div className=\"wrapper\">\r\n                  <span className=\"minus\" onClick={() => decrement(item._id)}>\r\n                    -\r\n                  </span>\r\n                  <span className=\"num\">\r\n                    {item.quantity < 10 ? \"0\" + item.quantity : item.quantity}\r\n                  </span>\r\n                  <span className=\"plus\" onClick={() => increment(item._id)}>\r\n                    +\r\n                  </span>\r\n                </div>\r\n                <br />\r\n                <span> price : </span>\r\n                <span className=\"price\"> ${item.price} </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"cart-total\">\r\n        <h3 className=\"title\"> cart total </h3>\r\n\r\n        <div className=\"box\">\r\n          <h3 className=\"subtotal\">\r\n            {\" \"}\r\n            subtotal({cart.reduce((a, c) => a + c.quantity, 0)} items) :{\" \"}\r\n            <span>${cart.reduce((a, c) => a + c.price * c.quantity, 0)}</span>{\" \"}\r\n          </h3>\r\n          <h3 className=\"total\">\r\n            {\" \"}\r\n            total :{\" \"}\r\n            <span>\r\n              ${cart.reduce((a, c) => a + c.price * c.quantity, 0)}\r\n            </span>{\" \"}\r\n          </h3>\r\n          <PaypalButton total={total} tranSuccess={makePayment} />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className='loading'>\r\n            <img src=\"./loader.gif\" alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\nimport Loading from \"../../utils/Loading\";\r\n\r\nexport default function Categories() {\r\n  const state = useContext(GlobalState);\r\n  const [categories] = state.categoriesAPI.categories;\r\n  const [callback, setCallback] = state.categoriesAPI.callback;\r\n  const [category, setCategory] = useState(\"\");\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [image, setImage] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [id, setID] = useState(\"\");\r\n  const [token] = state.token;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!isAdmin) return alert(\"You're not an admin\");\r\n      const file = e.target.files[0];\r\n\r\n      if (!file) return alert(\"File does not exist.\");\r\n\r\n      if (file.size > 1024 * 1024) return alert(\"Size is too large!\");\r\n\r\n      if (file.type !== \"image/jpeg\" && file.type !== \"image/png\")\r\n        return alert(\"File format is incorrect.\");\r\n\r\n      let formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      setLoading(true);\r\n      const res = await axios.post(\"/api/upload_category\", formData, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      setLoading(false);\r\n      setImage(res.data);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const handleDestroy = async () => {\r\n    try {\r\n      if (!isAdmin) return alert(\"You're not an admin\");\r\n      setLoading(true);\r\n      await axios.post(\r\n        \"/api/destroy\",\r\n        { public_id: image.public_id },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setLoading(false);\r\n      setImage(false);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const createCategory = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (onEdit) {\r\n        const res = await axios.put(\r\n          `/api/category/${id}`,\r\n          { name: category, image },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n\r\n        alert(res.data.msg);\r\n      } else {\r\n        const res = await axios.post(\r\n          \"/api/category\",\r\n          { name: category, image },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n\r\n        alert(res.data.msg);\r\n      }\r\n      setOnEdit(false);\r\n      setCategory(\"\");\r\n      setImage(false);\r\n      setCallback(!callback);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const editCategory = async (id, name, image) => {\r\n    setID(id);\r\n    setCategory(name);\r\n    setImage(image);\r\n    setOnEdit(true);\r\n  };\r\n\r\n  const deleteCategory = async (id,image) => {\r\n    try {\r\n      setImage(image)\r\n      handleDestroy()\r\n      const res = await axios.delete(`/api/category/${id}`, {\r\n        headers: { Authorization: token },\r\n      });\r\n      alert(res.data.msg);\r\n      setCallback(!callback);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const styleUpload = {\r\n    display: image ? \"block\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <section className=\"categories\">\r\n      <div class=\"heading\">\r\n        <h3>Categories</h3>\r\n      </div>\r\n      <form onSubmit={createCategory}>\r\n        <div className=\"upload\">\r\n          <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\r\n          {loading ? (\r\n            <Loading />\r\n          ) : (\r\n            <div id=\"file_img\" style={styleUpload}>\r\n              <img src={image ? image.url : \"\"} alt=\"\" />\r\n              <span onClick={handleDestroy}>X</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div>\r\n          <div className=\"inputBox\">\r\n            <label htmlFor=\"category\">Category</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"category\"\r\n              placeholder=\"Category\"\r\n              value={category}\r\n              required\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            />\r\n          </div>\r\n          <button className=\"btn\" type=\"submit\">\r\n          {onEdit ? \"Update\":'Create'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <div className=\"box-container\">\r\n        {categories.map((item) => (\r\n          <div className=\"box\" key={item._id} >\r\n            <img src={item.image.url} alt=\"\" />\r\n            <div className=\"content\">\r\n              <h3>{item.name}</h3>\r\n              <i className=\"fas fa-edit\" onClick={() => editCategory(item._id,item.name,item.image)} ></i>\r\n              <i className=\"fas fa-trash\"onClick={() => deleteCategory(item._id,item.image)}></i>\r\n            </div>\r\n            <div></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Loading from \"../../utils/Loading\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n  product_id: \"\",\r\n  title: \"\",\r\n  price: 0,\r\n  category: \"\",\r\n  _id: \"\",\r\n};\r\n\r\nexport default function CreateProduct() {\r\n  const state = useContext(GlobalState);\r\n  const [product, setProduct] = useState(initialState);\r\n  const [images, setImages] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [categories] = state.categoriesAPI.categories;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n  const [token] = state.token;\r\n\r\n  const [products] = state.productsAPI.products;\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [callback, setCallback] = state.productsAPI.callback;\r\n\r\n  const history = useHistory();\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      setOnEdit(true);\r\n      products.forEach((product) => {\r\n        if (product._id === params.id) {\r\n          setProduct(product);\r\n          setImages(product.images);\r\n        }\r\n      });\r\n    } else {\r\n      setOnEdit(false);\r\n      setProduct(initialState);\r\n      setImages(false);\r\n    }\r\n  }, [params.id, products]);\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!isAdmin) return alert(\"You're not an admin\");\r\n      const file = e.target.files[0];\r\n\r\n      if (!file) return alert(\"File does not exist.\");\r\n\r\n      if (file.size > 1024 * 1024) return alert(\"Size is too large!\");\r\n\r\n      if (file.type !== \"image/jpeg\" && file.type !== \"image/png\")\r\n        return alert(\"File format is incorrect.\");\r\n\r\n      let formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      setLoading(true);\r\n      const res = await axios.post(\"/api/upload\", formData, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      setLoading(false);\r\n      setImages(res.data);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const handleDestroy = async () => {\r\n    try {\r\n      if (!isAdmin) return alert(\"You're not an admin\");\r\n      setLoading(true);\r\n      await axios.post(\r\n        \"/api/destroy\",\r\n        { public_id: images.public_id },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n\r\n      setLoading(false);\r\n      setImages(false);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (!isAdmin) return alert(\"You're not an admin\");\r\n      if (!images) return alert(\"Not image uploaded\");\r\n\r\n      if (onEdit) {\r\n        await axios.put(\r\n          `/api/products/${product._id}`,\r\n          { ...product, images },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n      } else {\r\n        await axios.post(\r\n          \"/api/products\",\r\n          { ...product, images },\r\n          {\r\n            headers: { Authorization: token },\r\n          }\r\n        );\r\n      }\r\n      setCallback(!callback);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const styleUpload = {\r\n    display: images ? \"block\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <section className=\"create_product\">\r\n      <div className=\"upload\">\r\n        <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\r\n        {loading ? (\r\n          <Loading />\r\n        ) : (\r\n          <div id=\"file_img\" style={styleUpload}>\r\n            <img src={images ? images.url : \"\"} alt=\"\" />\r\n            <span onClick={handleDestroy}>X</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"inputBox\">\r\n          <label htmlFor=\"product_id\">Product ID</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"product_id\"\r\n            id=\"product_id\"\r\n            placeholder='Product ID'\r\n            required\r\n            value={product.product_id}\r\n            onChange={handleInputChange}\r\n            disabled={product._id}\r\n          />\r\n        </div>\r\n        <div className=\"inputBox\">\r\n          <label htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            placeholder='Title'\r\n            required\r\n            value={product.title}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"inputBox\">\r\n          <label htmlFor=\"price\">Price</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            id=\"price\"\r\n            placeholder='Price'\r\n            required\r\n            value={product.price}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"inputBox\">\r\n          <label htmlFor=\"category\">Categories: </label>\r\n          <select\r\n            name=\"category\"\r\n            value={product.category}\r\n            onChange={handleInputChange}\r\n          >\r\n            <option value=\"\">Please Select a category</option>\r\n            {categories.map((category) => (\r\n              <option value={category._id} key={category._id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <button type=\"submit\" className='btn' >{onEdit ? \"Update\" : \"Create\"}</button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function ProductItem({\r\n  product,\r\n  isAdmin,\r\n  deleteProduct,\r\n  handleCheck,\r\n  addCart\r\n}) {\r\n  return (\r\n    <div className=\"box\">\r\n      {isAdmin && (\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={product.checked}\r\n          onChange={() => handleCheck(product._id)}\r\n        />\r\n      )}\r\n      <div className=\"image\">\r\n        <img src={product.images.url} alt={product.title} />\r\n      </div>\r\n\r\n      <div className=\"content\">\r\n        <h3>{product.title}</h3>\r\n          <div className=\"stars\">\r\n              <i className=\"fas fa-star\"></i>\r\n              <i className=\"fas fa-star\"></i>\r\n              <i className=\"fas fa-star\"></i>\r\n              <i className=\"fas fa-star\"></i>\r\n              <i className=\"fas fa-star-half-alt\"></i>\r\n          </div>\r\n<div className='price'>${product.price}</div>\r\n        <div className=\"row\">\r\n        <Link className=\"btn\" to=\"#1\" onClick={() =>deleteProduct(product._id,product.images.public_id)}>\r\n            Delete\r\n          </Link>\r\n          <Link className=\"btn\" to={`/edit_product/${product._id}`}>\r\n            Edit\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalState } from '../../../GlobalState';\r\n\r\nexport default function Filters() {\r\n    const state = useContext(GlobalState);\r\n  const [categories] = state.categoriesAPI.categories;\r\n  const [category, setCategory] = state.productsAPI.category;\r\n  const [sort, setSort] = state.productsAPI.sort;\r\n  const [search, setSearch] = state.productsAPI.search;\r\n\r\n  const handleCategory = (e) => {\r\n    setCategory(e.target.value);\r\n    setSearch('')\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter_menu\">\r\n      <div className=\"row\">\r\n        <span>Filters: </span>\r\n        <select name=\"category\" value={category} onChange={handleCategory}>\r\n          <option value=\"\">All Products</option>\r\n          {categories.map((category) => (\r\n            <option value={\"category=\" + category._id} key={category._id}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <input\r\n        type=\"text\"\r\n        value={search}\r\n        placeholder=\"Enter your search!\"\r\n        onChange={(e) => setSearch(e.target.value.toLowerCase())}\r\n      />\r\n\r\n<div className=\"row sort\">\r\n        <span>Sort By: </span>\r\n        <select value={sort} onChange={e => setSort(e.target.value)}>\r\n          <option value=\"\">Newest</option>\r\n          <option value=\"sort=oldest\">Oldest</option>\r\n          <option value=\"sort=-sold\">Best sales</option>\r\n          <option value=\"sort=-price\">Price: High-Low</option>\r\n          <option value=\"sort=price\">Price: Low-High</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\nimport Loading from \"../../utils/Loading\";\r\nimport ProductItem from \"../../utils/productItem/ProductItem\";\r\nimport Filters from \"./Filters\";\r\n\r\nexport default function Products() {\r\n  const state = useContext(GlobalState);\r\n  const [products, setProducts] = state.productsAPI.products;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n  \r\n  const [token] = state.token;\r\n  const [callback, setCallback] = state.productsAPI.callback;\r\n  const [loading, setLoading] = useState(false);\r\n  const [isCheck, setIsCheck] = useState(false);\r\n\r\n  const handleCheck = (id) => {\r\n    products.forEach((product) => {\r\n      if (product._id === id) product.checked = !product.checked;\r\n    });\r\n\r\n    setProducts([...products]);\r\n  };\r\n\r\n  const deleteProduct = async (id, public_id) => {\r\n    try {\r\n      setLoading(true);\r\n      const destroyImg = axios.post(\r\n        \"/api/destroy\",\r\n        { public_id },\r\n        {\r\n          headers: { Authorization: token },\r\n        }\r\n      );\r\n      const deleteProduct = axios.delete(`/api/products/${id}`, {\r\n        headers: { Authorization: token },\r\n      });\r\n\r\n      await destroyImg;\r\n      await deleteProduct;\r\n      setCallback(!callback);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      alert(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  const checkAll = () => {\r\n    products.forEach((product) => {\r\n      product.checked = !isCheck;\r\n    });\r\n    setProducts([...products]);\r\n    setIsCheck(!isCheck);\r\n  };\r\n\r\n  const deleteAll = () => {\r\n    products.forEach((product) => {\r\n      if (product.checked) deleteProduct(product._id, product.images.public_id);\r\n    });\r\n  };\r\n\r\n  if (loading)\r\n    return (\r\n      <div>\r\n        <Loading />\r\n      </div>\r\n    );\r\n  return (\r\n    <section className='products_admin'>\r\n      <Filters />\r\n      {isAdmin && (\r\n        <div className=\"delete-all\">\r\n          <span>Select all</span>\r\n          <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\r\n          <button onClick={deleteAll}>Delete All</button>\r\n        </div>\r\n      )}\r\n      <div className=\"box-container\">\r\n        {products.map((product) => {\r\n          return (\r\n            <ProductItem\r\n              key={product._id}\r\n              product={product}\r\n              isAdmin={isAdmin}\r\n              deleteProduct={deleteProduct}\r\n              handleCheck={handleCheck}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { GlobalState } from '../../../GlobalState';\r\nimport Message from '../../utils/Message';\r\n\r\nexport default function EditUser() {\r\n    const { id } = useParams();\r\n  const history = useHistory();\r\n  const [editUser, setEditUser] = useState([]);\r\n\r\n  const state = useContext(GlobalState)\r\n  const [token] = state.token\r\n  const [users] = state.userAPI.users\r\n\r\n    const [checkAdmin, setCheckAdmin] = useState(false);\r\n  const [err, setErr] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [num, setNum] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (users.length !== 0) {\r\n      users.forEach((user) => {\r\n        if (user._id === id) {\r\n          setEditUser(user);\r\n          setCheckAdmin(user.role === 1 ? true : false);\r\n        }\r\n      });\r\n    } else {\r\n      history.push(\"/profile\");\r\n    }\r\n  }, [users, id, history]);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n        if (num%2 !== 0) {\r\n            const res = await axios.patch(`/user/update_role/${editUser._id}`,{\r\n                role: checkAdmin? 1:0\r\n            },{\r\n                headers: {Authorization: token}\r\n            })\r\n            setSuccess(res.data.msg)\r\n            setNum(0)\r\n        }\r\n    } catch (err) {\r\n        err.response.data.msg && setErr(err.response.data.msg)\r\n    }\r\n};\r\n\r\n  const handleCheck = () => {\r\n    setSuccess('')\r\n    setErr('')\r\n    setCheckAdmin(!checkAdmin)\r\n    setNum(num + 1)\r\n  }\r\n\r\n    return (\r\n        <div className=\"profile_page edit_user\">\r\n      <div className=\"row\">\r\n        <button onClick={() => history.goBack()} className=\"go_back\">\r\n          <i className=\"fas fa-long-arrow-alt-left\"></i>\r\n          Go Back\r\n        </button>\r\n      </div>\r\n      <div className=\"col-left\">\r\n        <h2>Edit User</h2>\r\n        {err && <Message variant='danger'>{err}</Message>}\r\n          {success && <Message variant='success'>{success}</Message>}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            defaultValue={editUser.name}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            defaultValue={editUser.email}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <input type=\"checkbox\" id=\"isAdmin\" checked={checkAdmin} onChange={handleCheck} />\r\n            <label htmlFor=\"isAdmin\">isAdmin</label>\r\n        </div>\r\n          <button className='btn' onClick={handleUpdate}>Update</button>\r\n\r\n          \r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Message from '../../utils/Message';\r\nimport { isLength, isMatch } from '../../utils/Validation';\r\n\r\nconst initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    err: \"\",\r\n    success: \"\",\r\n  };\r\n\r\nexport default function Profile(props) {\r\n    const state = useContext(GlobalState)\r\n    const [user] = state.userAPI.user\r\n    const [history,setHistory] = state.userAPI.history;\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [users, setUsers] = state.userAPI.users\r\n    const [token] = state.token\r\n    const [data, setData] = useState(initialState);\r\n  const [avatar, setAvatar] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [callback, setCallback] = useState(false);\r\n\r\n  const { name, password, cf_password, err, success } = data;\r\n\r\n  useEffect(() => {\r\n    if (isAdmin) {\r\n      const getAllUsers = async () => {\r\n          const res = await axios.get('/user/all_info',{\r\n              headers: {Authorization: token}\r\n          })\r\n          setUsers(res.data)\r\n      }\r\n      getAllUsers()\r\n    }else{\r\n      const getOrders = async () => {\r\n        const res = await axios.get('/api/payment',{\r\n          headers: {Authorization: token}\r\n      })\r\n      setHistory(res.data)\r\n      }\r\n      getOrders()\r\n    }\r\n  }, [token, isAdmin, setUsers,setHistory]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({ ...data, [name]: value, err: \"\", success: \"\" });\r\n  };\r\n\r\n  const changeAvatar = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const file = e.target.files[0];\r\n\r\n      if (!file)\r\n        return setData({\r\n          ...data,\r\n          err: \"No files were uploaded.\",\r\n          success: \"\",\r\n        });\r\n\r\n      if (file.size > 1024 * 1024)\r\n        return setData({ ...data, err: \"Size is too large.\", success: \"\" });\r\n\r\n      if (file.type !== \"image/jpeg\" && file.type !== \"image/png\")\r\n        return setData({\r\n          ...data,\r\n          err: \"File format is incorrect.\",\r\n          success: \"\",\r\n        });\r\n\r\n      let formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      setLoading(true);\r\n      const res = await axios.post(\"/api/upload_avatar\", formData, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      setLoading(false);\r\n      setAvatar(res.data.url);\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  const updateInfo = () => {\r\n    try {\r\n      axios.patch(\r\n        \"/user/update\",\r\n        {\r\n          name: name ? name : user.name,\r\n          avatar: avatar ? avatar : user.avatar,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        }\r\n      );\r\n      setData({ ...data, err: \"\", success: \"Update Success!\" });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  const updatePassword = () => {\r\n    if (isLength(password))\r\n      return setData({\r\n        ...data,\r\n        err: \"Password must be at least 8 characters.\",\r\n        success: \"\",\r\n      });\r\n    if (!isMatch(password, cf_password))\r\n      return setData({ ...data, err: \"Password did not match.\", success: \"\" });\r\n    try {\r\n      axios.post(\r\n        \"/user/reset\",\r\n        { password },\r\n        {\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n        }\r\n      );\r\n      setData({ ...data, err: \"\", success: \"Update Success!\" });\r\n    } catch (err) {\r\n      setData({ ...data, err: err.response.data.msg, success: \"\" });\r\n    }\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    if (name || avatar) updateInfo();\r\n    if (password) updatePassword();\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      if (user._id !== id) {\r\n        if (window.confirm('Are you sure you want to delete this account?')) {\r\n          setLoading(true)\r\n          await axios.delete(`/user/delete/${id}`,{\r\n            headers: {Authorization: token}\r\n          })\r\n          setLoading(false)\r\n          setCallback(!callback)\r\n        }\r\n      }\r\n      \r\n    } catch (err) {\r\n      setData({...data,err: err.response.data.msg,success: ''})\r\n    }\r\n  }\r\n\r\n    return (\r\n        <>\r\n      <div>\r\n        {err && <Message variant='danger'>{err}</Message>}\r\n        {success && <Message variant='success'>{success}</Message>}\r\n        {loading && <h3>Loading.....</h3>}\r\n      </div>\r\n      <div className=\"profile_page\">\r\n        <div className=\"col-left\">\r\n          <h2>{isAdmin ? \"Admin Profile\" : \"User Profile\"}</h2>\r\n          <div className=\"avatar\">\r\n            <img src={avatar ? avatar : user.avatar} alt=\"\" />\r\n            <span>\r\n              <i className=\"fas fa-camera\"></i>\r\n              <p>Change</p>\r\n              <input\r\n                type=\"file\"\r\n                name=\"file\"\r\n                id=\"file_upload\"\r\n                onChange={changeAvatar}\r\n              />\r\n            </span>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              placeholder=\"Your name\"\r\n              defaultValue={user.name}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              placeholder=\"Your email address\"\r\n              defaultValue={user.email}\r\n              disabled\r\n            />\r\n            <label htmlFor=\"password\">New Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"Your password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"cf_password\">Confirm New Password</label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"cf_password\"\r\n              id=\"cf_password\"\r\n              placeholder=\"Confirm password\"\r\n              value={cf_password}\r\n              onChange={handleChange}\r\n            />\r\n            <button className='btn' disabled={loading} onClick={handleUpdate}>\r\n              Update\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-right\">\r\n          <h2>{isAdmin ? \"Users\" : \"My Orders\"}</h2>\r\n          <div style={{ overflowX: \"auto\" }}>\r\n            <table className=\"customers\">\r\n              <thead>\r\n                {\r\n                  isAdmin ? \r\n                <tr>\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Admin</th>\r\n                <th>Action</th>\r\n                </tr>\r\n                :\r\n                <tr>\r\n                  <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n                </tr>\r\n                }\r\n              </thead>\r\n              {\r\n                isAdmin ?\r\n              <tbody>\r\n                {\r\n                  users.map(user => (\r\n                    <tr key={user._id}>\r\n                      <td>{user._id}</td>\r\n                      <td>{user.name}</td>\r\n                      <td>{user.email}</td>\r\n                      <td>{user.role === 1 ?\r\n                      <i className=\"fas fa-check\" title='Admin'></i>\r\n                      :\r\n                      <i className=\"fas fa-times\" title='User'></i>\r\n                      }</td>\r\n                      <td>\r\n                        <Link to={`/edit_user/${user._id}`}>\r\n                          <i className=\"fas fa-edit\" title='Edit'></i>\r\n                        </Link>\r\n                        <i className=\"fas fa-trash-alt\" title='Remove' onClick={() => handleDelete(user._id)}></i>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                }\r\n              </tbody>\r\n              :\r\n              <tbody>\r\n            {history.map((order) => (\r\n              <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>${order.totalPrice}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"No\"}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : \"No\"}\r\n                </td>\r\n                <td>\r\n                  <button className=\"btn\" onClick={() => props.history.push(`/order/${order._id}`)}>Details</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n              }\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n    )\r\n}\r\n","import React, { useContext, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\n\r\nexport default function Home() {\r\n  const state = useContext(GlobalState);\r\n  const [categories] = state.categoriesAPI.categories;\r\n  const [products] = state.productsAPI.products;\r\n  const addCart = state.userAPI.addCart;\r\n  const [, setCategory] = state.productsAPI.category;\r\n  const [, setSearch] = state.productsAPI.search;\r\n  const [isLogged] = state.userAPI.isLogged;\r\n  const [animate, setAnimate] = useState({ x: 0, y: 0 });\r\n\r\n  const history = useHistory();\r\n  const ref = useRef(null);\r\n\r\n  const handleCategory = (value) => {\r\n    setCategory(value);\r\n    setSearch(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <section\r\n        className=\"home\"\r\n        id=\"home\"\r\n        onMouseMove={(e) =>\r\n          setAnimate({\r\n            x: (window.innerWidth - e.pageX * 2) / 90,\r\n            y: (window.innerHeight - e.pageY * 2) / 90,\r\n          })\r\n        }\r\n        onMouseLeave={() => setAnimate({ x: 0, y: 0 })}\r\n      >\r\n        <div className=\"content\">\r\n          <span>welcome foodies</span>\r\n          <h3>different spices for the different tastes 😋</h3>\r\n          <p>\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis unde\r\n            dolores temporibus hic quam debitis tenetur harum nemo.\r\n          </p>\r\n          <button className=\"btn\" onClick={() => ref.current.scrollIntoView()}>\r\n            order now\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"image\">\r\n          <img src=\"./images/home-img.png\" alt=\"\" className=\"home-img\" />\r\n          <img\r\n            src=\"./images/home-parallax-img.png\"\r\n            alt=\"\"\r\n            className=\"home-parallax-img\"\r\n            style={{\r\n              transform: `translateX(${animate.y}px) translateY(${animate.x}px)`,\r\n            }}\r\n          />\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"about\" id=\"about\">\r\n        <div className=\"image\">\r\n          <img src=\"./images/about-img.png\" alt=\"\" />\r\n        </div>\r\n\r\n        <div className=\"content\">\r\n          <span>why choose us?</span>\r\n          <h3 className=\"title\">what's make our food delicious!</h3>\r\n          <p>\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos ut\r\n            explicabo, numquam iusto est a ipsum assumenda tempore esse\r\n            corporis?\r\n          </p>\r\n          <button className=\"btn\">read more</button>\r\n          <div className=\"icons-container\">\r\n            <div className=\"icons\">\r\n              <img src=\"./images/serv-1.png\" alt=\"fast delivery\" />\r\n              <h3>fast delivery</h3>\r\n            </div>\r\n            <div className=\"icons\">\r\n              <img src=\"./images/serv-2.png\" alt=\"fresh food\" />\r\n              <h3>fresh food</h3>\r\n            </div>\r\n            <div className=\"icons\">\r\n              <img src=\"./images/serv-3.png\" alt=\"best quality\" />\r\n              <h3>best quality</h3>\r\n            </div>\r\n            <div className=\"icons\">\r\n              <img src=\"./images/serv-4.png\" alt=\"24/7 support\" />\r\n              <h3>24/7 support</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section className=\"category\">\r\n        <div className=\"box\" onClick={() => handleCategory(\"\")}>\r\n          <img src=\"\" alt=\"\" />\r\n          <h3>All</h3>\r\n        </div>\r\n        {categories.map((item) => (\r\n          <div\r\n            className=\"box\"\r\n            key={item._id}\r\n            onClick={() => handleCategory(\"category=\" + item._id)}\r\n          >\r\n            <img src={item.image.url} alt={item.name} />\r\n            <h3>{item.name}</h3>\r\n          </div>\r\n        ))}\r\n      </section>\r\n\r\n      <section className=\"popular\" ref={ref}>\r\n        <div className=\"heading\">\r\n          <span>our menu</span>\r\n          <h3>our top dishes</h3>\r\n        </div>\r\n\r\n        <div className=\"box-container\">\r\n          {products.map((product) => (\r\n            <div className=\"box\" key={product._id}>\r\n              <div className=\"image\">\r\n                <img src={product.images.url} alt=\"\" />\r\n              </div>\r\n              <div className=\"content\">\r\n                <h3>{product.title}</h3>\r\n                <div className=\"stars\">\r\n                  <i className=\"fas fa-star\"></i>\r\n                  <i className=\"fas fa-star\"></i>\r\n                  <i className=\"fas fa-star\"></i>\r\n                  <i className=\"fas fa-star\"></i>\r\n                  <i className=\"fas fa-star-half-alt\"></i>\r\n                  <span>\r\n                    {product.sold !== 0\r\n                      ? `(${\r\n                          product.sold < 10 ? \"0\" + product.sold : product.sold\r\n                        })`\r\n                      : null}\r\n                  </span>\r\n                </div>\r\n                <div className=\"price\">${product.price}</div>\r\n                <button\r\n                  className=\"btn\"\r\n                  onClick={() =>\r\n                    isLogged ? addCart(product) : history.push(\"/signin\")\r\n                  }\r\n                >\r\n                  add to cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"banner\">\r\n        <div\r\n          className=\"row-banner\"\r\n          style={{\r\n            background:\r\n              \"url(./images/row-banner.png) center center / cover no-repeat\",\r\n          }}\r\n        >\r\n          <div className=\"content\">\r\n            <span>double cheese</span>\r\n            <h3>burger</h3>\r\n            <p>with cococola and fries</p>\r\n            <button className=\"btn\">order now</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid-banner\">\r\n          <div className=\"grid\">\r\n            <img src=\"./images/banner-1.png\" alt=\"\" />\r\n            <div className=\"content\">\r\n              <span>special offer</span>\r\n              <h3>upto 50% off</h3>\r\n              <button className=\"btn\">order now</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <img src=\"./images/banner-2.png\" alt=\"\" />\r\n            <div className=\"content center\">\r\n              <span>special offer</span>\r\n              <h3>upto 25% extra</h3>\r\n              <button className=\"btn\">order now</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid\">\r\n            <img src=\"./images/banner-3.png\" alt=\"\" />\r\n            <div className=\"content\">\r\n              <span>limited offer</span>\r\n              <h3>100% cashback</h3>\r\n              <button className=\"btn\">order now</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"order\">\r\n        <div className=\"heading\">\r\n          <span>order now</span>\r\n          <h3>fastest home delivery</h3>\r\n        </div>\r\n        <div className=\"icons-container\">\r\n          <div className=\"icons\">\r\n            <img src=\"./images/icon-1.png\" alt=\"\" />\r\n            <h3>7:00am to 10:30pm</h3>\r\n          </div>\r\n\r\n          <div className=\"icons\">\r\n            <img src=\"./images/icon-2.png\" alt=\"\" />\r\n            <h3>+123-456-7890</h3>\r\n          </div>\r\n\r\n          <div className=\"icons\">\r\n            <img src=\"./images/icon-3.png\" alt=\"\" />\r\n            <h3>mumbai, india - 400104</h3>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../../GlobalState\";\r\n\r\nexport default function OrderDetails() {\r\n  const state = useContext(GlobalState);\r\n  const [history] = state.userAPI.history;\r\n  const [orderDetails, setOrderDetails] = useState([]);\r\n\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    if (params.id) {\r\n      history.forEach((item) => {\r\n        if (item._id === params.id) setOrderDetails(item);\r\n      });\r\n    }\r\n  }, [params.id, history]);\r\n\r\n  if (orderDetails.length === 0) return null;\r\n\r\n  return (\r\n    <section className=\"shopping-cart-container active\">\r\n      <div className=\"products-container\">\r\n        <h3 className=\"title\">products</h3>\r\n        <div className=\"box-container\">\r\n          {orderDetails.orderItems.map((item) => (\r\n            <div className=\"box\" key={item._id}>\r\n              <img src={item.images.url} alt=\"\" />\r\n              <div className=\"content\">\r\n                <h3>{item.title}</h3>\r\n                <span> quantity : </span>\r\n                <span>{item.quantity}</span>\r\n                <br />\r\n                <span> price : </span>\r\n                <span className=\"price\"> ${item.price} </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n        <div className=\"cart-total\">\r\n          <h3 className=\"title\"> shipping address </h3>\r\n          <div className=\"box\">\r\n            <h3 className=\"subtotal\">\r\n              {orderDetails.shippingAddress.address},\r\n            </h3>\r\n            <h3 className=\"subtotal\">\r\n              {orderDetails.shippingAddress.city} -{\" \"}\r\n              {orderDetails.shippingAddress.postalCode}\r\n            </h3>\r\n            <h3 className=\"subtotal\">{orderDetails.shippingAddress.country}</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"cart-total\">\r\n          <h3 className=\"title\"> payment details </h3>\r\n          <div className=\"box\">\r\n              <h3 className=\"subtotal\">Method: {orderDetails.paymentMethod}</h3>\r\n            <h3 className=\"subtotal\">\r\n              Id: {orderDetails.paymentResult.id},\r\n            </h3>\r\n            <h3 className=\"subtotal\">\r\n              status: <span className='success'>{orderDetails.paymentResult.status ? \"Success\": \"\"}</span>\r\n            </h3>\r\n            <h3 className=\"subtotal\">\r\n              Date: {\" \"}\r\n              {orderDetails.paymentResult.update_time}\r\n            </h3>\r\n            <h3 className=\"subtotal\">\r\n              Email: {\" \"}\r\n              {orderDetails.paymentResult.email_address}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useContext } from 'react';\r\nimport { GlobalState } from '../../../GlobalState';\r\n\r\nexport default function OrderHistory(props) {\r\n    const state = useContext(GlobalState);\r\n  const [history,setHistory] = state.userAPI.history;\r\n  const [isAdmin] = state.userAPI.isAdmin\r\n  const [token] = state.token\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n        const getHistory = async () => {\r\n            if (isAdmin) {\r\n                const res = await axios.get('/api/all_payment',{\r\n                    headers: {Authorization: token}\r\n                })\r\n                setHistory(res.data)\r\n            }\r\n            \r\n        }\r\n        getHistory()\r\n    }\r\n}, [token, isAdmin,setHistory])\r\n\r\n    return (\r\n        <section>\r\n            <table className=\"customers\">\r\n            <thead>\r\n            <tr>\r\n                  <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {history.map((order) => (\r\n              <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>${order.totalPrice}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"No\"}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : \"No\"}\r\n                </td>\r\n                <td>\r\n                  <button className=\"btn\" onClick={() => props.history.push(`/order/${order._id}`)}>Details</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            </tbody>\r\n            </table>\r\n        </section>\r\n    )\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport ActivateEmail from \"./auth/ActivateEmail\";\r\nimport ForgotPassword from \"./auth/ForgotPassword\";\r\nimport ResetPassword from \"./auth/ResetPassword\";\r\nimport NotFound from \"../utils/NotFound\";\r\nimport Register from \"./auth/Register\";\r\nimport SignIn from \"./auth/SignIn\";\r\nimport Cart from \"./cart/Cart\";\r\nimport Categories from \"./categories/Categories\";\r\nimport CreateProduct from \"./createProduct/CreateProduct\";\r\nimport Products from \"./products/Products\";\r\nimport EditUser from \"./profile/EditUser\";\r\nimport Profile from \"./profile/Profile\";\r\nimport Home from \"./home/Home\";\r\nimport OrderDetails from \"./order/OrderDetails\";\r\nimport OrderHistory from \"./order/OrderHistory\";\r\n\r\nexport default function Body() {\r\n  const state = useContext(GlobalState);\r\n  const [isLogged] = state.userAPI.isLogged;\r\n  const [isAdmin] = state.userAPI.isAdmin;\r\n\r\n  return (\r\n    <main>\r\n      <Route exact path=\"/\" component={isAdmin ? Products : Home} />\r\n      <Route path=\"/signin\" component={isLogged ? NotFound : SignIn} />\r\n      <Route path=\"/register\" component={isLogged ? NotFound : Register} />\r\n      <Route path=\"/profile\" component={isLogged ? Profile : NotFound} />\r\n      <Route path=\"/cart\" component={isLogged ? Cart : NotFound} />\r\n      <Route path=\"/order/:id\" component={isLogged ? OrderDetails : NotFound} />\r\n      <Route path=\"/allorders\" component={isAdmin ? OrderHistory : NotFound} />\r\n      <Route path=\"/edit_user/:id\" component={isAdmin ? EditUser : NotFound} />\r\n      <Route\r\n        exact\r\n        path=\"/user/activate/:activation_token\"\r\n        component={isLogged ? NotFound : ActivateEmail}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/forgot_password\"\r\n        component={isLogged ? NotFound : ForgotPassword}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/create_product\"\r\n        component={isAdmin ? CreateProduct : NotFound}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/edit_product/:id\"\r\n        component={isAdmin ? CreateProduct : NotFound}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/category\"\r\n        component={isAdmin ? Categories : NotFound}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/user/reset/:token\"\r\n        component={isLogged ? NotFound : ResetPassword}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Header from \"./components/header/Header\";\nimport Footer from \"./components/footer/Footer\";\nimport Body from \"./components/body/Body\";\nimport { DataProvider } from \"./GlobalState\";\n\nfunction App() {\n  \n\n  return (\n    <DataProvider>\n    <BrowserRouter>\n      <div className=\"app\">\n        <Header />\n        <Body />\n        <Footer />\n      </div>\n    </BrowserRouter>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}